<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="utf-8" />
        <title>Threesome - 网站监控</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
        <meta content="Coderthemes" name="author" />
        <!-- App favicon -->
        <link rel="shortcut icon" href="assets/images/favicon.ico">

        <!-- App css -->
        <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/app.min.css" rel="stylesheet" type="text/css" />

    </head>

    <body>

    <div class="navbar-custom topnav-navbar">
        <div class="container-fluid">
            <!-- LOGO -->
            <a href="index.html" class="topnav-logo">
                    <span class="topnav-logo-lg">
                        <img src="assets/images/logo.png" alt="" height="16">
                    </span>
                <span class="topnav-logo-sm">
                        <img src="assets/images/logo.png" alt="" height="16">
                    </span>
            </a>

            <ul class="list-unstyled topbar-right-menu float-right mb-0">
                <li class="dropdown notification-list">
                    <a class="nav-link right-bar-toggle" href="javascript: void(0);">
                        <i class="dripicons-gear noti-icon"></i>
                    </a>
                </li>

                <li class="dropdown notification-list">
                    <a class="nav-link dropdown-toggle nav-user arrow-none mr-0" data-toggle="dropdown" id="topbar-userdrop" href="#" role="button" aria-haspopup="true"
                       aria-expanded="false">
                            <span class="account-user-avatar">
                                <img src="assets/images/users/avatar-1.jpg" alt="user-image" class="rounded-circle">
                            </span>
                        <span>
                                <span class="account-user-name">local</span>
                            </span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-animated topbar-dropdown-menu profile-dropdown" aria-labelledby="topbar-userdrop">
                        <!-- item-->
                        <div class=" dropdown-header noti-title">
                            <h6 class="text-overflow m-0">欢迎！</h6>
                        </div>

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <i class="mdi mdi-account-circle mr-1"></i>
                            <span>我的账户</span>
                        </a>

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <i class="mdi mdi-account-edit mr-1"></i>
                            <span>设置</span>
                        </a>

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <i class="mdi mdi-lifebuoy mr-1"></i>
                            <span>支持</span>
                        </a>

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <i class="mdi mdi-lock-outline mr-1"></i>
                            <span>锁定屏幕</span>
                        </a>

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <i class="mdi mdi-logout mr-1"></i>
                            <span>退出</span>
                        </a>

                    </div>
                </li>
            </ul>
            <a class="button-menu-mobile disable-btn">
                <div class="lines">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </a>

        </div>
    </div>
    <!-- end Topbar -->

    <!-- 删除任务 模态窗口 -->
    <div id="info-alert-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-body p-4">
                    <div class="text-center">
                        <i class="dripicons-information h1 text-info"></i>
                        <h4 class="mt-2">提示!</h4>
                        <p class="mt-3">是否确定删除任务，任务将不会再出现在你的任务列表中，确认请继续。点击空白取消</p>
                        <button type="button" id="cancel-button" class="btn btn-info my-2" data-dismiss="modal">继续</button>
                    </div>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->


    <div class="container-fluid">

        <!-- Begin page -->
        <div class="wrapper">

            <!-- ============================================================== -->

            <!-- Start Page Content here -->
            <!-- ============================================================== -->

            <!-- Start Content-->

            <!-- ========== Left Sidebar Start ========== -->
            <div class="left-side-menu">

                <div class="leftbar-user">
                    <a href="#">
                        <img src="assets/images/users/avatar-1.jpg" alt="user-image" height="42" class="rounded-circle shadow-sm">
                        <span class="leftbar-user-name">local</span>
                    </a>
                </div>

                <!--- Sidemenu -->
                <ul class="metismenu side-nav">

                    <li class="side-nav-title side-nav-item">功能列表</li>

                    <li class="side-nav-item">
                        <a href="javascript: void(0);" class="side-nav-link">
                            <i class="dripicons-meter"></i>
                            <span> 个人首页 </span>
                        </a>
                    </li>

                    <li class="side-nav-item">
                        <a href="javascript: void(0);" class="side-nav-link">
                            <i class="dripicons-copy"></i>
                            <span> 网站敏感词查询 </span>
                        </a>
                    </li>

                    <li class="side-nav-title side-nav-item mt-1">入侵检测</li>

                    <li class="side-nav-item">
                        <a href="javascript: void(0);" class="side-nav-link">
                            <i class="dripicons-view-apps"></i>
                            <span> 攻击信息 </span>
                        </a>
                    </li>

                    <li class="side-nav-item">
                        <a href="javascript: void(0);" class="side-nav-link">
                            <i class="dripicons-briefcase"></i>
                            <span>网站监控</span>
                        </a>
                    </li>

                    <li class="side-nav-item">
                        <a href="widgets.html" class="side-nav-link">
                            <i class="dripicons-heart"></i>
                            <!--<span class="badge badge-light float-right">New</span>-->
                            <span>黑客入侵检测</span>
                        </a>
                    </li>
                </ul>

                <!-- End Sidebar -->
                <div class="clearfix"></div>
                <!-- Sidebar -left -->

            </div>
            <!-- Left Sidebar End -->

                <div class="content-page">
                    <div class="content">

                        <!-- start page title -->
                        <div class="row">
                            <div class="col-12">
                                <div class="page-title-box" id="content">
                                    <div class="page-title-right">
                                        <ol class="breadcrumb m-0">
                                            <li class="breadcrumb-item"><a href="javascript: void(0);">Threesome</a></li>
                                            <li class="breadcrumb-item"><a href="javascript: void(0);">入侵检测</a></li>
                                            <li class="breadcrumb-item active">网站监控</li>
                                        </ol>
                                    </div>
                                    <h4 class="page-title">网站监控</h4>
                                    <a href="#" data-toggle="modal" data-target="#add-new-task-modal" class="btn btn-success btn-sm ml-3">添加新的任务</a></h4>

                                    <div class="clearfix"></div>
                                    <br><br>

                                    <div class="card mb-0">
                                            <div class="card-body p-3">
                                                <small class="float-right text-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2019年9月23日</font></font></small>
                                                <span class="badge badge-success"><font style="vertical-align: inherit;">运行中</font></span>
                                                <h5 class="mt-2 mb-2">
                                                    <a href="#" data-toggle="modal" data-target="#task-detail-modal" class="text-body"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检测网页图片更改</font></font></a>
                                                </h5>
                                                <p class="mb-0">
                                                    <span class="pr-2 text-nowrap mb-2 d-inline-block">
                                                        <i class="mdi mdi-briefcase-outline text-muted"></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                                                       <strong>任务id:</strong>184654654
                                                    </font></font></span>
                                                </p>
                                                <div class="dropdown float-right">
                                                    <a href="#" class="dropdown-toggle text-muted arrow-none" data-toggle="dropdown" aria-expanded="false">
                                                        <i class="mdi mdi-dots-vertical font-18"></i>
                                                    </a>
                                                    <div class="dropdown-menu dropdown-menu-right">
                                                        <!-- item-->
                                                        <a href="javascript:void(0);"   class="dropdown-item stop-spinner"><i class="mdi mdi-pencil mr-1"></i>&nbsp;&nbsp;&nbsp;&nbsp;停止</a>
                                                        <!-- item-->
                                                        <a href="javascript:void(0);"  class="dropdown-item cancel-spinner"><i class="mdi mdi-delete mr-1"></i>删除</a>
                                                    </div>
                                                </div>

                                                <p class="mb-0">
                                                    <!-- <img src="assets/images/users/avatar-2.jpg" alt="用户IMG" class="avatar-xs rounded-circle mr-1"> -->
                                                    <span class="align-middle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.douban.com</font></font></span>
                                                </p>
                                                <div class="normal-cancel-spinner" style="display: none">
                                                    <hr>
                                                    <div class="d-flex align-items-center text-secondary m-2">
                                                        <strong>取消中...</strong>
                                                        <div class="spinner-grow ml-auto" role="status" aria-hidden="true"></div>
                                                    </div>
                                                </div>
                                            </div> <!-- end card-body -->
                                    </div>

                                </div> <!-- end page-title-box -->
                            </div> <!-- end col-->
                        </div>
                        <!-- end page title -->
                    </div> <!-- content -->

                    <!-- Footer Start -->
                    <footer class="footer">
                        <div class="row">
                            <div class="col-md-6">
                                2018 - 2019 © Threesome
                            </div>
                            <div class="col-md-6">
                                <div class="text-md-right footer-links d-none d-md-block">
                                    <a href="javascript: void(0);">About</a>
                                    <a href="javascript: void(0);">Support</a>
                                    <a href="javascript: void(0);">Contact Us</a>
                                </div>
                            </div>
                        </div>
                    </footer>
                    <!-- end Footer -->
                </div> <!-- content-page -->

            </div> <!-- end wrapper-->

            <!-- ============================================================== -->
            <!-- End Page content -->
            <!-- ============================================================== -->


        </div>
        <!-- END Container -->


        <!-- Right Sidebar -->
        <div class="right-bar">

            <div class="rightbar-title">
                <a href="javascript:void(0);" class="right-bar-toggle float-right">
                    <i class="dripicons-cross noti-icon"></i>
                </a>
                <h5 class="m-0">Settings</h5>
            </div>

            <div class="slimscroll-menu rightbar-content">

                <!-- Settings -->
                <hr class="mt-0" />
                <h5 class="pl-3">Basic Settings</h5>
                <hr class="mb-0" />

                <div class="p-3">
                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" class="custom-control-input" id="notifications-check" checked>
                        <label class="custom-control-label" for="notifications-check">Notifications</label>
                    </div>

                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" class="custom-control-input" id="api-access-check">
                        <label class="custom-control-label" for="api-access-check">API Access</label>
                    </div>

                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" class="custom-control-input" id="auto-updates-check" checked>
                        <label class="custom-control-label" for="auto-updates-check">Auto Updates</label>
                    </div>

                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" class="custom-control-input" id="online-status-check" checked>
                        <label class="custom-control-label" for="online-status-check">Online Status</label>
                    </div>

                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" class="custom-control-input" id="auto-payout-check">
                        <label class="custom-control-label" for="auto-payout-check">Auto Payout</label>
                    </div>

                </div>


                <!-- Timeline -->
                <hr class="mt-0" />
                <h5 class="pl-3">Recent Activity</h5>
                <hr class="mb-0" />
                <div class="pl-2 pr-2">
                    <div class="timeline-alt">
                        <div class="timeline-item">
                            <i class="mdi mdi-upload bg-info-lighten text-info timeline-icon"></i>
                            <div class="timeline-item-info">
                                <a href="#" class="text-info font-weight-bold mb-1 d-block">You sold an item</a>
                                <small>Paul Burgess just purchased “Hyper - Admin Dashboard”!</small>
                                <p class="mb-0 pb-2">
                                    <small class="text-muted">5 minutes ago</small>
                                </p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <i class="mdi mdi-airplane bg-primary-lighten text-primary timeline-icon"></i>
                            <div class="timeline-item-info">
                                <a href="#" class="text-primary font-weight-bold mb-1 d-block">Product on the Bootstrap Market</a>
                                <small>Dave Gamache added
                                    <span class="font-weight-bold">Admin Dashboard</span>
                                </small>
                                <p class="mb-0 pb-2">
                                    <small class="text-muted">30 minutes ago</small>
                                </p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <i class="mdi mdi-microphone bg-info-lighten text-info timeline-icon"></i>
                            <div class="timeline-item-info">
                                <a href="#" class="text-info font-weight-bold mb-1 d-block">Robert Delaney</a>
                                <small>Send you message
                                    <span class="font-weight-bold">"Are you there?"</span>
                                </small>
                                <p class="mb-0 pb-2">
                                    <small class="text-muted">2 hours ago</small>
                                </p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <i class="mdi mdi-upload bg-primary-lighten text-primary timeline-icon"></i>
                            <div class="timeline-item-info">
                                <a href="#" class="text-primary font-weight-bold mb-1 d-block">Audrey Tobey</a>
                                <small>Uploaded a photo
                                    <span class="font-weight-bold">"Error.jpg"</span>
                                </small>
                                <p class="mb-0 pb-2">
                                    <small class="text-muted">14 hours ago</small>
                                </p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <i class="mdi mdi-upload bg-info-lighten text-info timeline-icon"></i>
                            <div class="timeline-item-info">
                                <a href="#" class="text-info font-weight-bold mb-1 d-block">You sold an item</a>
                                <small>Paul Burgess just purchased “Hyper - Admin Dashboard”!</small>
                                <p class="mb-0 pb-2">
                                    <small class="text-muted">1 day ago</small>
                                </p>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>


        <div class="rightbar-overlay"></div>
        <!-- /Right-bar -->

         <!--  Add new task modal -->
         <div class="modal fade task-modal-content" id="add-new-task-modal" tabindex="-1" role="dialog" aria-labelledby="NewTaskModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="NewTaskModalLabel">创建一个新任务</h4>
                            <button type="button"  class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        </div>
                        <div class="modal-body">
                            <form class="p-2" id="monitor-form">
                                <div class="form-group">
                                    <label>类型</label>
                                    <select class="form-control form-control-light">
                                        <option>网站监控</option>
                                        <!--<option>网站内容改动监测</option>-->
                                        <!--<option>黑客入侵检测</option>-->
                                    </select>
                                </div>


                                <div class="form-group">
                                        <label for="task-description">任务名称</label>
                                        <textarea class="form-control form-control-light" name="name" id="task-description" rows="1" placeholder=""></textarea>
                                </div>

                                <div class="form-group">
                                    <label for="task-url">网站url</label>
                                    <input type="text" name="url" class="form-control form-control-light" id="task-url" placeholder="http(s)://">
                                </div>
                                <br>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="float-left">
                                            <label for="switch4"> 完成结果发送到邮箱</label><br>
                                            <input type="checkbox" id="switch4" checked="" data-switch="info">
                                            <label for="switch4" data-on-label="On" data-off-label="Off"></label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="float-left">
                                            <label for="switch4"> 开启短信提醒</label><br>
                                            <input type="checkbox" id="switch5" checked="" data-switch="info">
                                            <label for="switch5" data-on-label="On" data-off-label="Off"></label>
                                        </div>
                                    </div>
                                </div>

                                <div class="text-right">
                                    <button type="button" class="btn btn-light" data-dismiss="modal">取消</button>
                                    <button type="button" class="btn btn-primary" id="createTask" >创建</button>
                                </div>
                            </form>
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
    </div>

        <!-- App js -->
        <script src="assets/js/app.min.js"></script>
        <!-- dragula js-->
        <script src="assets/js/vendor/dragula.min.js"></script>
        <!-- demo js -->
        <script src="assets/js/ui/component.dragula.js"></script>

        <script src="assets/js/event/task.js"></script>
        <script>

            function submitMonitor() {
                addCard();

                $.ajax({
                    type: "post",
                    url: "CheckWebServlet",
                    data: $('#monitor-form').serialize(),
                    dataType: "json",
                    success: function (res) {
                        console.log(res)
                        if (res=="none"){
                            $.NotificationApp.send("查询成功", "你要检查的网站暂时安全,请继续关注本网站", "top-center","rgba(0,0,0,0.2)","success")
                        }
                        esle
                        {
                            console.log(res);
                        }
                    }
                });
            }


            function addCard() {
                var name = $('#task-description').val()
                var url = $('#task-url').val()
                var hight=$('#task-hight option:selected').val()


                var html = "<br><br><div class=\"card mb-0\">\n" +
                    "                                            <div class=\"card-body p-3\">\n" +
                    "                                                <small class=\"float-right text-muted\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">"+new Date().toLocaleDateString()+"</font></font></small>\n" +
                    "                                                <span class=\"badge badge-danger\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">"+hight+"</font></font></span>\n" +
                    "\n" +
                    "                                                <h5 class=\"mt-2 mb-2\">\n" +
                    "                                                    <a href=\"#\" data-toggle=\"modal\" data-target=\"#task-detail-modal\" class=\"text-body\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">"+name+"</font></font></a>\n" +
                    "                                                </h5>\n" +
                    "\n" +
                    "                                                <p class=\"mb-0\">\n" +
                    "                                                    <span class=\"pr-2 text-nowrap mb-2 d-inline-block\">\n" +
                    "                                                        <i class=\"mdi mdi-briefcase-outline text-muted\"></i><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">\n" +
                    "                                                       运行中\n" +
                    "                                                    </font></font></span>\n" +
                    "                                            \n" +
                    "                                                </p>\n" +
                    "\n" +
                    "                                                <div class=\"dropdown float-right\">\n" +
                    "                                                    <a href=\"#\" class=\"dropdown-toggle text-muted arrow-none\" data-toggle=\"dropdown\" aria-expanded=\"false\">\n" +
                    "                                                        <i class=\"mdi mdi-dots-vertical font-18\"></i>\n" +
                    "                                                    </a>\n" +
                    "                                                    <div class=\"dropdown-menu dropdown-menu-right\">\n" +
                    "                                                        <!-- item-->\n" +
                    "                                                        <a href=\"javascript:void(0);\" class=\"dropdown-item\"><i class=\"mdi mdi-pencil mr-1\"></i>Edit</a>\n" +
                    "                                                        <!-- item-->\n" +
                    "                                                        <a href=\"javascript:void(0);\" class=\"dropdown-item\"><i class=\"mdi mdi-delete mr-1\"></i>Delete</a>\n" +
                    "                                                        <!-- item-->\n" +
                    "                                                        <a href=\"javascript:void(0);\" class=\"dropdown-item\"><i class=\"mdi mdi-plus-circle-outline mr-1\"></i>Add People</a>\n" +
                    "                                                        <!-- item-->\n" +
                    "                                                        <a href=\"javascript:void(0);\" class=\"dropdown-item\"><i class=\"mdi mdi-exit-to-app mr-1\"></i>Leave</a>\n" +
                    "                                                    </div>\n" +
                    "                                                </div>\n" +
                    "\n" +
                    "                                                <p class=\"mb-0\">\n" +
                    "                                                    <!-- <img src=\"assets/images/users/avatar-2.jpg\" alt=\"用户IMG\" class=\"avatar-xs rounded-circle mr-1\"> -->\n" +
                    "                                                    <span class=\"align-middle\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">"+url+"</font></font></span>\n" +
                    "                                                </p>\n" +
                    "                                            </div> <!-- end card-body -->\n" +
                    "                                    </div>\n"

                $('#content').append(html);

            }
        </script>

    </body>
</html>